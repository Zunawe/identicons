function polygonalIdenticonSVG(a,b,c,d){b=string2ByteArray(c(b));c="#"+b[b.length-3].padFront(16,2)+b[b.length-3].padFront(16,2)+b[b.length-3].padFront(16,2);var p=d&&d.edges||5;d=d&&d.shells||4;var q=Math.floor(a/(2*d+1)),m=Math.floor(a/2),n=Math.floor(a/2);svgNS="http://www.w3.org/2000/svg";var k=document.createElementNS(svgNS,"svg");k.setAttribute("width",a);k.setAttribute("height",a);k.setAttribute("xmlns",svgNS);for(a=0;a<d;++a)for(var l=0;l<p;++l)if(!a||getBit((a*d+l)%b.length,b)){var f=360/
p*l,e=360/p*(l+1);if(e<f)var g=f,f=e,e=g;var g=q*a,h=q*(a+1),h=h-(h-g)/10,f="M "+(m+polar2CartesianX(h,f))+" "+(n+polar2CartesianY(h,f))+" "+("L "+(m+polar2CartesianX(h,e))+" "+(n+polar2CartesianY(h,e))+" ")+("L "+(m+polar2CartesianX(g,e))+" "+(n+polar2CartesianY(g,e))+" ")+("L "+(m+polar2CartesianX(g,f))+" "+(n+polar2CartesianY(g,f))+" ")+"Z",e=document.createElementNS(svgNS,"path");e.setAttribute("d",f);e.setAttribute("fill",c);k.appendChild(e)}return k}
function string2ByteArray(a){for(var b=[],c=0;c<a.length;++c)b[c]=parseInt(a.substr(2*c,2),16);return b}function polar2CartesianX(a,b){return a*Math.cos(Math.PI*(b-90)/180)}function polar2CartesianY(a,b){return a*Math.sin(Math.PI*(b-90)/180)}function getBit(a,b){var c=Math.floor(a/8)%b.length,d=7-(a%(8*b.length)-8*c);return(b[c]&1<<d)>>d}Number.prototype.padFront=function(a,b){for(var c=this.toString(a);c.length<b;)c="0"+c;return c};
